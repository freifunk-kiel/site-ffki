{
  domain_names = {
    kiel_batman_v = 'Kiel B.A.T.M.A.N. V Test-Netz',
  },
  
  -- Must be the same of all nodes in one mesh domain
  -- generate with echo $(hexdump -v -n 32 -e '1/1 "%02x"' </dev/urandom)
  domain_seed = '8266b159be1fd96f9804f3226403414b5a743271a30e20907f1c4fa74fc2fd90',
  
  -- TODO: each domain should get its own subnet
  prefix4 = '10.116.128.0/17',
  prefix6 = 'fda1:384a:74de:4242::/64',
  
  ntp_servers = {'1.ntp.services.ffki'},
  
  -- The next node feature allows clients to always reach the node it is
  -- connected to using a known IP address.
  next_node = {
    name = {
      'node.ffki',
      'nextnode.ffki',
      'knoten.ffki',
      'nextnode',
      'nn',
    },
    -- anycast IPs of all nodes
    ip4 = '10.116.254.254',
    ip6 = 'fda1:384a:74de:4242::ffff',
  },
  
  ddhcpd = {
    enabled = true,
    range = "10.116.160.0/19",
    broadcast = "10.116.255.255"
  },
  
  -- Wireless configuration for 2.4 GHz interfaces.
  wifi24 = {
    channel = 11,
    
    -- ESSID used for client network.
    ap = {
      ssid = 'Freifunk Kiel B.A.T.M.A.N. V',
      -- disabled = true, (optional)
    },
    mesh = {
      id = '32:ca:ff:ee:ba:be',
      mcast_rate = 12000,
      disabled = false,
    },
  },
  
  -- Wireless configuration for 5 GHz interfaces.
  -- This should be equal to the 2.4 GHz variant, except
  -- for channel.
  wifi5 = {
    channel = 44,
    ap = {
      ssid = 'Freifunk Kiel B.A.T.M.A.N. V',
    },
    mesh = {
      id = '32:ca:ff:ee:ba:be',
      mcast_rate = 12000,
      disabled = false,
    },
  },
  
  mesh = {
    -- (vxlan=false is legacy)
    vxlan = true,
    -- Options specific to the batman-adv routing protocol (optional)
    batman_adv = {
      -- Gateway selection class (optional) default: 5000 kbit/s 
      gw_sel_class = 1500,
      routing_algo = 'BATMAN_V',
    },
  },
  
  mesh_vpn = {
    mtu = 1280,
    
    fastd = {
      methods = {'salsa2012+umac'},
      groups = {
        backbone = {
          -- Limit number of connected peers to reduce bandwidth.
          limit = 1,
          peers = {
            ffki_vpn0 = {
              key = '7d0f990707f842ec2dc05392d1153b8c98c90decca2adb1fd08aaee6da832b4b',
              remotes = {
                'ipv6 "vpn0.freifunk.in-kiel.de" port 10000',
                'ipv4 "vpn0.freifunk.in-kiel.de" port 10000',
              },
            },
            ffki_vpn1 = {
              key = 'c12ccca4519dcce8f9cd1c785f30983e02679d99be30dc8ceae859e589ba68ae',
              remotes = {
                'ipv6 "vpn1.freifunk.in-kiel.de" port 10000',
                'ipv4 "vpn1.freifunk.in-kiel.de" port 10000',
              },
            },
            ffki_vpn2 = {
              key = '560f72afecc6da647cb30912f3c658bbe2ad58bd6e5473d959104d9af7b6bc58',
              remotes = {
                'ipv6 "vpn2.freifunk.in-kiel.de" port 10000',
                'ipv4 "vpn2.freifunk.in-kiel.de" port 10000',
              },
            },
            ffki_vpn3 = {
              key = '94829d3d9b6396264e03e42520d5fc1d74cc8dbfee15984b674e63e5bd72e0eb',
              remotes = {
                'ipv6 "vpn3.freifunk.in-kiel.de" port 10000',
                'ipv4 "vpn3.freifunk.in-kiel.de" port 10000',
              },
            },
            ffki_vpn4 = {
              key = '525d4879c70ed05cda2e9fdbdb48d0bba317b4a0d851c83202ea6fc927ca29db',
              remotes = {
                'ipv6 "vpn4.freifunk.in-kiel.de" port 10000',
                'ipv4 "vpn4.freifunk.in-kiel.de" port 10000',
              },
            },
            ffki_vpn5 = {
              key = '5f7b65b030111c1cfe4a2de4359d88c887d771345311b225e2a992a5660fe800',
              remotes = {
                'ipv6 "vpn5.freifunk.in-kiel.de" port 10000',
                'ipv4 "vpn5.freifunk.in-kiel.de" port 10000',
              },
            },
            ffki_vpn6 = {
              key = 'f40d8c5a2ef99aba47742d65d061b84f8696691ae84b6d9234a0915d9e8d6268',
              remotes = {
                'ipv6 "vpn6.freifunk.in-kiel.de" port 10000',
                'ipv4 "vpn6.freifunk.in-kiel.de" port 10000',
              },
            },
            ffki_vpn7 = {
              key = '7a05b3ef82a30cbd2ea7996eb214c885b1bb1133e6510ef4e73df167f741e78b',
              remotes = {
                'ipv6 "vpn7.freifunk.in-kiel.de" port 10000',
                'ipv4 "vpn7.freifunk.in-kiel.de" port 10000',
              },
            },
            ffki_vpn8 = {
              key = 'de0a4ec6a6e162094b74a9cd3e783be7dd5e5b2b1c04246dd9272c4a59422409',
              remotes = {
                'ipv6 "vpn8.freifunk.in-kiel.de" port 10000',
                'ipv4 "vpn8.freifunk.in-kiel.de" port 10000',
              },
            },
          },
        },
      },
    },
  },
}
